{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>LCP - Preliminary Title</title>

    <link rel="stylesheet" href="{% static 'output.css'%}">

    <style>
        ::-webkit-scrollbar {
            width: 8px; /* Set the width of the scrollbar */
        }

        ::-webkit-scrollbar-track {
            background-color: #f1f1f1; /* Set the background color of the scrollbar track */
        }

        ::-webkit-scrollbar-thumb {
            background-color: #888; /* Set the color of the scrollbar thumb */
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: #555; /* Change the color of the scrollbar thumb on hover */
        }
        .bg-photo{
            background-image: url("{% static 'assets/wikibg.png' %}");
            background-size: cover;
            /* background-position: center; */
            background-repeat: repeat;
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .logo-photo{
            background-image: url("{% static 'assets/logo(1).png' %}");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        .logo-profile{
            background-image: url("{% static 'assets/prof2.png' %}");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        .bg-white-overlay {
            background-color: rgba(255, 255, 255, 0.8);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        /* .content-container {
            position: relative;
            height: calc(100% - 96px); Adjust based on your navbar height
            overflow-y: auto;
            margin-top: 86px;
            padding: 1rem;
        } */

        .w-20 {
            width: 5rem/* 80px */;
        }
        .m-6 {
            margin: 1.5rem/* 24px */;
        }
        .p-6 {
            padding: 1.5rem/* 24px */;
        }
        .font-extrabold {
            font-weight: 800;
        }
        .fixed {
            position: fixed;
        }
        .pt-24 {
            padding-top: 6rem/* 96px */;
        }
        .ml-14 {
            margin-left: 3.5rem/* 56px */;
        }
        .flex-grow {
            flex-grow: 1;
        }

        li{
            cursor: pointer;
        }
        .dd-toggle{
            border-radius: 5px;
        }
        .dd-toggle:hover{
            background-color: white;
            
        }
        .dd-content{
            display: none;
            margin-left: 5px;
        }
        .article{
            display: none;
        }
    </style>
</head>
<body class="bg-photo">
    <div class="h-screen bg-white bg-opacity-80 flex flex-col">
        <!-- header -->
        <div class="w-full h-20 bg-black bg-opacity-80 shadow-md">
            <nav class="flex justify-between items-center p-6">
                <div class="logo-photo h-10 w-20"><a href="/abogado/AHomepage">#</a></div>
                <div>
                    <h1 class="text-white font-bold"><a href="https://blr.dole.gov.ph/2014/12/11/labor-code-of-the-philippines/">LABOR CODE OF THE PHILIPPINES</a></h1>
                </div>
                <div>
                    <a class="text-white" href="#">
                        <div class="logo-profile h-6 w-6 ml-14"></div>
                    </a>
                </div>
            </nav>
        </div>
    
        <div class="h-auto max-h-full w-full flex justify-center p-16 overflow-y-auto">
            <div class="flex flex-col pt-28">
                <h1 class="font-bold">Contents</h1>
                <ul class="text-sm dropdown">
                    <li class="mt-4 font-bold">> Preliminary</li>
                    
                    <li class="dd-toggle">Book I</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book II</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book III</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book IV</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book V</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book VI</li>
                    <li class = "dd-content">content</li>

                    <li class="dd-toggle">Book VII</li>
                    <li class = "dd-content">content</li>

                </ul>
            </div>
            <div class="w-3/4 p-4 flex flex-col items-center">
                <h1 class="mb-8 font-bold text-lg">PRELIMINARY TITLE</h1>

                <div class="w-full flex flex-col items-center" id="summaryddbutton">
                    <div onclick="toggleDDSummary()" class="ogcont bg-black bg-opacity-80 w-3/4 h-10 rounded-full text-white p-6 mb-4 flex items-center hover:cursor-pointer">
                        Summary
                    </div>
                    
                    <div id="ddsumm" class="ogcont bg-gray-400 w-3/4 rounded-2xl p-6 mb-4 hidden">
                        Insert summary
                    </div>

                    {% for law in laws %}
                        <div class="article">
                            {{ law.fullLaw }}
                        </div>
                    {% endfor %}

                </div>

                <div class="w-full flex flex-col items-center" id="translationdd">
                    <div onclick="toggleDDTranslation()" class="bg-black bg-opacity-80 w-3/4 h-10 rounded-full text-white p-6 mb-4 flex items-center hover:cursor-pointer">Translation</div>
                    <div id="ddtrans" class="bg-gray-400 w-3/4 rounded-2xl p-6 mb-4 hidden"> Insert translation</div>
                </div>

    
            </div>
        </div>
    </div>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            
            function toggleDDSummary(){
            let ddsumm = document.querySelector('#summaryddbutton #ddsumm');
            // let arrowPass = document.querySelector('#arrow-pass');
            ddsumm.classList.toggle("hidden");
            // arrowPass.classList.toggle("rotate-180");
            }
            function toggleDDTranslation(){
                let ddtrans = document.querySelector('#translationdd #ddtrans');
                // let arrowDelete = document.querySelector('#arrow-delete');
                ddtrans.classList.toggle("hidden");
                // arrowDelete.classList.toggle("rotate-180");
            }

            const dropdowns = document.querySelectorAll('.dropdown');
            const article = document.querySelectorAll('.article');
            
            dropdowns.forEach(dropdown => {
                const toggleButtons = dropdown.querySelectorAll('.dd-toggle');
                const menus = dropdown.querySelectorAll('.dd-content');
                

                let lawArray = [];

                // Loop through laws and append fullLaw values to the array
                

                let cont = "This loop iterates over each Law object in the laws QuerySet and assigns the fullLaw attribute of each object to the article_content variable in JavaScript. Each iteration of the loop will generate JavaScript code with the fullLaw attribute of a specific Law object. Remember that this JavaScript code will be generated dynamically on the server-side, and the resulting article_content variable will contain the fullLaw attribute of the last Law object in the QuerySet after the loop finishes. If you want to use all fullLaw attributes in JavaScript, you might need to handle it differently, perhaps by creating an array of fullLaw strings and using it as needed."
                
                toggleButtons.forEach((toggleButton, index) => {
                    const menu = menus[index];
                    const artic = article[index]

                    toggleButton.addEventListener('click', function() {
                        // Toggle the visibility of the dropdown menu
                        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
                        artic.style.display = artic.style.display === 'block' ? 'none' : 'block';
                    });

                    window.addEventListener('click', function(e) {
                        // Check if the click is outside the dropdown menu and the toggle button
                        if (!toggleButton.contains(e.target) && !menu.contains(e.target)) {
                            menu.style.display = 'none';
                            artic.style.display = 'none';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>

